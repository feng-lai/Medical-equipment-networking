# Medical Equipment Networking

A modular and scalable hospital-grade system built with **ThinkPHP 5.1**, designed to manage the lifecycle of medical equipment—from on‑site monitoring and fault reporting to maintenance scheduling and data analytics.

---

## 📌 Key Features

- **🔍 Auto-generated CRUD modules** – Use ThinkPHP’s module generator to scaffold `demo`, `test`, or custom modules with controllers, models, views, behaviors, and widgets.
- **🖥 Device Management** – Register, monitor, and update equipment statuses.
- **⚠️ Fault Reporting & Alerts** – Automatically log errors and notify staff via configurable channels.
- **🔧 Maintenance Scheduling** – Plan preventive maintenance, track work orders, log service history.
- **📊 Analytics & Reporting** – Generate dashboards and export reports (CSV, PDF).
- **🔒 Role-Based Access Control** – Admins, technicians, and auditors with specific permissions.
- **🌐 RESTful API** – Offer API endpoints for integration with third-party apps.

---

## 🏗 Project Structure

```
/
├── application/         # Core MVC application
│   ├── common.php       # Global helper functions
│   ├── config.php       # Module-specific configs
│   ├── database.php     # DB connection settings
│   ├── controller/      # Business logic controllers
│   ├── model/           # ORM Models (Device, FaultReport, MaintenanceOrder)
│   ├── view/            # Template views
│   ├── behavior/        # Event handlers
│   └── widget/          # Reusable UI components
├── public/              # Web server root
│   └── index.php        # Front controller
├── route/               # Custom routing definitions
├── thinkphp/            # ThinkPHP core framework
├── common.php           # Global functions (autogenerated)
├── config.php           # Global system config
├── database.php         # DB configs
├── generator_config.php # Scaffold config (demo, test modules)
├── composer.json        # PHP dependencies
└── README.md            # This file
```

---

## ⚙️ Module Generation

Take advantage of ThinkPHP’s automatic code scaffolding:

```php
return [
  '__file__' => ['common.php', 'config.php', 'database.php'],

  'demo' => [
    '__file__'   => ['common.php'],
    '__dir__'    => ['behavior','controller','model','view'],
    'controller' => ['Index','Test','UserType'],
    'model'      => ['User','UserType'],
    'view'       => ['index/index'],
  ],

  'test' => [
    '__dir__'    => ['behavior','controller','model','widget'],
    'controller' => ['Index','Test','UserType'],
    'model'      => ['User','UserType'],
    'view'       => ['index/index','index/test'],
  ],
];
```

Customize this configuration to quickly scaffold new modules tailored to your infrastructure.

---

## 🚀 Setup & Usage

### 1. Prerequisites

- PHP ≥ 7.1 with necessary extensions (`pdo_mysql`, `curl`, etc.)
- ThinkPHP 5.1 framework files
- MySQL or compatible database
- Composer for dependency management

### 2. Installation

1. Clone the repo:
   ```bash
   git clone https://github.com/feng-lai/Medical-equipment-networking.git
   cd Medical-equipment-networking
   ```

2. Install dependencies:
   ```bash
   composer install
   ```

3. Configure database in `database.php` (or via `.env`):

   ```php
   return [
     'type'     => 'mysql',
     'hostname' => 'localhost',
     'database' => 'med_net',
     'username' => 'root',
     'password' => '',
   ];
   ```

4. Run migrations (if available) or import SQL schema.

### 3. Run Development Server

```bash
php think run
```

By default, this boots a server at `http://localhost:8000`.

---

## ✅ Change Log: ThinkPHP 5.1 LTS

Project uses **ThinkPHP 5.1.39 LTS**. Highlights include:

- Improved module scaffolding and behavior handling
- Enhanced ORM relationships with composite primary key support
- Better request handling (`isJson`, `Request::has`)
- Redis/Memcached driver fixes
- Enhanced route parsing, validation, and URL generation
- Compatibility optimizations for PHP 7.4

*(See full changelog in project docs or ThinkPHP release notes.)*

---

## 🛡 Future Roadmap

- Integration with IoT-enabled medical devices via ISO/IEEE 11073 / DICOM
- Real-time device logging via WebSocket / MQTT
- Role-based audit dashboards for compliance (IEC 60601 readiness)
- Mobile client SDK for technicians

---

## 🤝 Contributing

- Open issues for bugs or features
- Fork the repo and submit pull requests
- Follow code standards and include test cases

---

## 📄 License

Licensed under the [Apache‑2.0 License](LICENSE.txt).

---

**Medical Equipment Networking** – Bringing real-time device intelligence to your hospital infrastructure 🚑
